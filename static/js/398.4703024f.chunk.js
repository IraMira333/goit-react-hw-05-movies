"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[398],{6308:function(e,t,n){var r=n(5861),a=n(7757),o=n.n(a),c=n(1243),s=function(){var e=(0,r.Z)(o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat("https://api.themoviedb.org/3").concat(t,"?api_key=").concat("ba8df02c5548f4248e5d9d0723885591").concat(n?"&query=".concat(n):"","&language=en-US"));case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.Z=s},6368:function(e,t,n){var r=n(7689),a=n(1087),o=n(184);t.Z=function(e){var t=e.movies,n=(0,r.TH)();return(0,o.jsx)("ul",{children:t.map((function(e){return(0,o.jsx)("li",{children:(0,o.jsx)(a.rU,{to:"/movies/".concat(e.id),state:{from:n},children:(0,o.jsx)("p",{children:e.title})})},e.id)}))})}},6134:function(e,t){var n={position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"};t.Z=n},398:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(5861),a=n(9439),o=n(7757),c=n.n(o),s=n(2791),u=n(6308),i=n(6134),l=n(7596),p=(n(5462),n(6368)),h="MovieSearch_searchForm__8c7z6",f="MovieSearch_searchFormBtn__BrevM",m="MovieSearch_searchFormBtnInput__iLPSt",d=n(184),v=function(e){var t=e.handleSubmit,n=e.changeInput;return(0,d.jsxs)("form",{className:h,onSubmit:t,children:[(0,d.jsx)("input",{className:m,type:"text",name:"searching",autoComplete:"off",autoFocus:!0,onChange:function(e){return n(e.target.value)}}),(0,d.jsx)("button",{type:"submit",className:f,children:"Search"})]})},g=n(1087),x=function(){var e,t=(0,s.useState)([]),n=(0,a.Z)(t,2),o=n[0],h=n[1],f=(0,g.lr)(),m=(0,a.Z)(f,2),x=m[0],b=m[1],_=null!==(e=x.get("query"))&&void 0!==e?e:"";(0,s.useEffect)((function(){function e(){return(e=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)("/search/movie",_);case 3:if(0!==(t=e.sent).results.length){e.next=7;break}return l.Am.warning("No movies found",i.Z),e.abrupt("return");case 7:n=t.results.map((function(e){return{title:e.title,id:e.id}})),h(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),l.Am.error(e.t0.message,i.Z);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}x.size&&function(){e.apply(this,arguments)}()}),[_,x.size]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v,{handleSubmit:function(e){e.preventDefault();var t=e.target.children.searching.value.trim().toLowerCase();t?b({query:t}):(b({}),l.Am.warn("Please enter a request!",i.Z))},changeInput:function(e){""===e&&(b({}),h([]))}}),o.length>0&&(0,d.jsx)(p.Z,{movies:o}),(0,d.jsx)(l.Ix,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})}},5462:function(){}}]);
//# sourceMappingURL=398.4703024f.chunk.js.map